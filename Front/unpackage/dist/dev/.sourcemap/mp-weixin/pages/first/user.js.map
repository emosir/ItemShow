{"version":3,"sources":["uni-app:///main.js",null,"webpack:///C:/Users/asus/Desktop/EngineerStack/CodeRecords/ItemShow/Front/pages/first/user.vue?b81a","webpack:///C:/Users/asus/Desktop/EngineerStack/CodeRecords/ItemShow/Front/pages/first/user.vue?b48d","webpack:///C:/Users/asus/Desktop/EngineerStack/CodeRecords/ItemShow/Front/pages/first/user.vue?f946","uni-app:///pages/first/user.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","name","components","UniListItem","UniList","copyId","SearchBar","computed","iconName","data","user","unReadMessages","pendingEvents","messages","events","onLoad","fileApi","console","showsOpe","eventAndMessageUrlApi","methods","setRes","gotoUserEventList","uni","url","gotoUserMessageList","gotoUserEdit","gotoUserShow"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAA6H;AAC7H;AACwD;AACL;;;AAGnD;AAC0M;AAC1M,gBAAgB,kNAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,+FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,aAAa,uPAEN;AACP,KAAK;AACL;AACA,aAAa,qRAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtDA;AAAA;AAAA;AAAA;AAAuxB,CAAgB,uyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACuD3yB;AACA;AACA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eAEA;EACAC;EACAC;IAAAC;IAAAC;IAAAC;IAAAC;EAAA;EACAC;IACAC;MACA;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IAAA;IACA;IACAC;MACA;IACA;MACAC;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;MACAF;IACA;EACA;EACAG;IACAC;MACA;MACA;MACA;MACA;IACA;IACAC;MACAC;QACAC;MACA;IACA;IACAC;MACAF;QACAC;MACA;IACA;IACAE;MACAH;QACAC;MACA;IACA;IACAG;MACAJ;QACAC;MACA;IACA;EACA;AACA;AAAA,2B","file":"pages/first/user.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/first/user.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./user.vue?vue&type=template&id=daac47fa&scoped=true&\"\nvar renderjs\nimport script from \"./user.vue?vue&type=script&lang=js&\"\nexport * from \"./user.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\Tool PRo\\\\HBuilderX.3.98.2023112510\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"daac47fa\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/first/user.vue\"\nexport default component.exports","export * from \"-!D:\\\\Tool PRo\\\\HBuilderX.3.98.2023112510\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\Tool PRo\\\\HBuilderX.3.98.2023112510\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\Tool PRo\\\\HBuilderX.3.98.2023112510\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\Tool PRo\\\\HBuilderX.3.98.2023112510\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\Tool PRo\\\\HBuilderX.3.98.2023112510\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Tool PRo\\\\HBuilderX.3.98.2023112510\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./user.vue?vue&type=template&id=daac47fa&scoped=true&\"","var components\ntry {\n  components = {\n    uniIcons: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n    uniList: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-list/components/uni-list/uni-list\" */ \"@/uni_modules/uni-list/components/uni-list/uni-list.vue\"\n      )\n    },\n    uniListItem: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-list/components/uni-list-item/uni-list-item\" */ \"@/uni_modules/uni-list/components/uni-list-item/uni-list-item.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.pendingEvents.toString()\n  var g1 = _vm.unReadMessages.toString()\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\Tool PRo\\\\HBuilderX.3.98.2023112510\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Tool PRo\\\\HBuilderX.3.98.2023112510\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Tool PRo\\\\HBuilderX.3.98.2023112510\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Tool PRo\\\\HBuilderX.3.98.2023112510\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Tool PRo\\\\HBuilderX.3.98.2023112510\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./user.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\Tool PRo\\\\HBuilderX.3.98.2023112510\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\Tool PRo\\\\HBuilderX.3.98.2023112510\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\Tool PRo\\\\HBuilderX.3.98.2023112510\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\Tool PRo\\\\HBuilderX.3.98.2023112510\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\Tool PRo\\\\HBuilderX.3.98.2023112510\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./user.vue?vue&type=script&lang=js&\"","<template>\r\n  <view>\r\n    <search-bar></search-bar>\r\n    <view>\r\n      <image :src=\"user.imagePaths[0]\"></image>\r\n      <text>{{user.name}}</text>\r\n      <uni-icons :type=\"iconName\" size=\"30\"></uni-icons>\r\n      <copy-id :showId=\"user.id\"></copy-id>\r\n    </view>\r\n      <uni-list>\r\n        <uni-list-item title=\"待办事项\"\r\n                       showExtraIcon=\"true\"\r\n                       extraIcon=\"{color: '#4cd964', size: '22', type: 'spinner'}\"\r\n                       clickable\r\n                       link\r\n                       @tap=\"gotoUserEventList()\"\r\n                       :show-badge=\"pendingEvents > 0\"\r\n                       :badge-text=\"pendingEvents.toString()\">\r\n        </uni-list-item>\r\n\r\n        <uni-list-item title=\"消息\"\r\n                       showExtraIcon=\"true\"\r\n                       extraIcon=\"{color: '#4cd964', size: '22', type: 'spinner'}\"\r\n                       clickable\r\n                       link\r\n                       @tap=\"gotoUserMessageList()\"\r\n                       :show-badge=\"unReadMessages > 0\"\r\n                       :badge-text=\"unReadMessages.toString()\">\r\n        </uni-list-item>\r\n\r\n        <uni-list-item title=\"修改资料\"\r\n                       showExtraIcon=\"true\"\r\n                       extraIcon=\"{color: '#4cd964', size: '22', type: 'spinner'}\"\r\n                       clickable\r\n                       link\r\n                       @tap=\"gotoUserEdit()\">\r\n        </uni-list-item>\r\n        <uni-list-item title=\"查看个人对外展示页\"\r\n                       showExtraIcon=\"true\"\r\n                       extraIcon=\"{color: '#4cd964', size: '22', type: 'spinner'}\"\r\n                       clickable\r\n                       link\r\n                       @tap=\"gotoUserShow()\">\r\n        </uni-list-item>\r\n      </uni-list>\r\n    <view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport SearchBar from \"../../component/searchBar.vue\";\r\nimport copyId from \"../../component/common/copyId.vue\";\r\nimport UniList from \"../../uni_modules/uni-list/components/uni-list/uni-list.vue\";\r\nimport UniListItem from \"../../uni_modules/uni-list/components/uni-list-item/uni-list-item.vue\";\r\nimport eventAndMessageUrlApi from \"../../api/eventAngMessage\";\r\nimport fileApi from \"../../api/file\";\r\nimport showsOpe from \"../../common/showsOpe\";\r\n\r\nexport default {\r\n  name: \"user\",\r\n  components: {UniListItem, UniList, copyId, SearchBar},\r\n  computed:{\r\n    iconName(){\r\n      return this.user.gender===0?\"left\":\"right\"\r\n    }\r\n  },\r\n  data(){\r\n    return{\r\n      user:{},\r\n      unReadMessages:0,\r\n      pendingEvents:0,\r\n      messages:[],\r\n      events:[],\r\n    }\r\n  },\r\n  onLoad(){\r\n    this.user=getApp().globalData.user\r\n    fileApi.download(this.user.fileId).then(res=>{\r\n      this.user.filePath = res || \"\"\r\n    }).catch(err=>{\r\n      console.log(err)\r\n    })\r\n    showsOpe.getHeadImage([this.user]).then(res=>{\r\n      this.user=res[0]\r\n    })\r\n    eventAndMessageUrlApi.getUserEventAndMessage(this.user.id).then(res=>{\r\n      this.setRes(res)\r\n    }).catch(err=>{\r\n      console.log(\"获取用户待办事项和信息失败\"+err)\r\n    })\r\n  },\r\n  methods:{\r\n    setRes(res){\r\n      this.unReadMessages=res.data.data.message.unReadCount\r\n      this.messages=res.data.data.message.messages\r\n      this.pendingEvents=res.data.data.event.pendingCount\r\n      this.events=res.data.data.event.events\r\n    },\r\n    gotoUserEventList(){\r\n      uni.navigateTo({\r\n        url: `/pages/eventAndMessage/userEventList?events=${encodeURIComponent(JSON.stringify(this.events))}`\r\n      });\r\n    },\r\n    gotoUserMessageList(){\r\n      uni.navigateTo({\r\n        url: `/pages/eventAndMessage/userMessageList?messages=${encodeURIComponent(JSON.stringify(this.messages))}`\r\n      });\r\n    },\r\n    gotoUserEdit(){\r\n      uni.navigateTo({\r\n        url: `/pages/createEdit/userEdit.vue?user=${encodeURIComponent(JSON.stringify(this.user))}`\r\n      });\r\n    },\r\n    gotoUserShow(){\r\n      uni.navigateTo({\r\n        url: `/pages/show/userShow.vue?show=${encodeURIComponent(JSON.stringify(this.user))}`\r\n      });\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":""}